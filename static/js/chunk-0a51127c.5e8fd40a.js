(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a51127c"],{"0f34":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("PageLayout",{scopedSlots:e._u([{key:"header",fn:function(){return[r("layout-button",{attrs:{icon:["fab","telegram-plane"],name:e.$route.query.id?"更新":"发布"},nativeOn:{click:function(t){return e.handleSubmit(t)}}})]},proxy:!0}])},[r("el-form",{ref:"form",attrs:{model:e.model,"label-width":"80px",rules:e.rules}},[r("el-form-item",{attrs:{label:"项目名称",prop:"name",required:""}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),r("el-form-item",{attrs:{label:"文档地址",prop:"docUrl"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:e.model.docUrl,callback:function(t){e.$set(e.model,"docUrl",t)},expression:"model.docUrl"}})],1),r("el-form-item",{attrs:{label:"项目地址"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:e.model.projectUrl,callback:function(t){e.$set(e.model,"projectUrl",t)},expression:"model.projectUrl"}})],1),r("el-form-item",{attrs:{label:"预览地址"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:e.model.previewUrl,callback:function(t){e.$set(e.model,"previewUrl",t)},expression:"model.previewUrl"}})],1),r("el-form-item",{attrs:{label:"项目描述",prop:"description",required:""}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:e.model.description,callback:function(t){e.$set(e.model,"description",t)},expression:"model.description"}})],1),r("el-form-item",{attrs:{label:"项目图标",prop:"avatar"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:e.model.avatar,callback:function(t){e.$set(e.model,"avatar",t)},expression:"model.avatar"}})],1),r("el-form-item",{attrs:{label:"预览图片",prop:"images"}},[e._l(e.model.images,(function(t){return r("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(t){return e.handleClose(e.tag)}}},[e._v(" "+e._s(t)+" ")])})),e.inputVisible?r("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):r("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ New ")])],2),r("el-form-item",{attrs:{label:"正文",prop:"text",required:""}},[r("codemirror",{ref:"code",attrs:{options:e.cmOptions},model:{value:e.model.text,callback:function(t){e.$set(e.model,"text",t)},expression:"model.text"}})],1)],1)],1)},n=[],a=(r("ddb0"),r("9ab4")),i=r("2b0e"),s=r("2fe1"),l=r("45eb"),c=r("71ac"),u=r("8f94"),f=r("f381");let d=class extends i["default"]{constructor(){super(...arguments),this.model={name:"",previewUrl:"",docUrl:"",projectUrl:"",images:[],description:"",avatar:"",text:""},this.inputVisible=!1,this.inputValue="",this.rules={name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],description:[{required:!0,message:"请输入描述信息",trigger:"blur"}],text:[{required:!0,message:"请输入正文",trigger:"blur"}]},this.cmOptions=f["a"]}async created(){if(!this.id)return;const{data:e}=await this.$api("Project").get(this.$route.query.id);this.model=e}mounted(){setTimeout(()=>{var e;const t=null===(e=this.$refs.code)||void 0===e?void 0:e.codemirror;t.setSize(null,null),t.refresh()},2e3)}async handleSubmit(){this.$refs["form"].validate(async e=>{e&&(this.id?(await this.$api("Project").update(this.id,this.model),this.$message.success("修改成功~")):(await this.$api("Project").post(this.model),this.$message.success("发送成功~")),this.$router.push({name:"project-list"}))})}get id(){return this.$route.query.id}handleClose(e){this.model.images.splice(this.model.images.indexOf(e),1)}showInput(){this.inputVisible=!0,this.$nextTick(()=>{this.$refs.saveTagInput.$refs.input.focus()})}handleInputConfirm(){const e=this.inputValue;e&&(this.model.images?this.model.images.push(e):this.model.images=[e]),this.inputVisible=!1,this.inputValue=""}};d=Object(a["__decorate"])([Object(s["b"])({components:{PageLayout:l["a"],LayoutButton:c["a"],codemirror:u["codemirror"]}})],d);var p=d,m=p,b=(r("81fa"),r("fd0b"),r("2877")),h=Object(b["a"])(m,o,n,!1,null,"4e89b913",null);t["default"]=h.exports},"2fe1":function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"c",(function(){return h}));var o=r("2b0e");
/**
  * vue-class-component v7.2.3
  * (c) 2015-present Evan You
  * @license MIT
  */function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return s(e)||l(e)||c()}function s(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function l(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(){return"undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function f(e,t){d(e,t),Object.getOwnPropertyNames(t.prototype).forEach((function(r){d(e.prototype,t.prototype,r)})),Object.getOwnPropertyNames(t).forEach((function(r){d(e,t,r)}))}function d(e,t,r){var o=r?Reflect.getOwnMetadataKeys(t,r):Reflect.getOwnMetadataKeys(t);o.forEach((function(o){var n=r?Reflect.getOwnMetadata(o,t,r):Reflect.getOwnMetadata(o,t);r?Reflect.defineMetadata(o,n,e,r):Reflect.defineMetadata(o,n,e)}))}var p={__proto__:[]},m=p instanceof Array;function b(e){return function(t,r,o){var n="function"===typeof t?t:t.constructor;n.__decorators__||(n.__decorators__=[]),"number"!==typeof o&&(o=void 0),n.__decorators__.push((function(t){return e(t,r,o)}))}}function h(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o["default"].extend({mixins:t})}function v(e){var t=n(e);return null==e||"object"!==t&&"function"!==t}function y(e,t){var r=t.prototype._init;t.prototype._init=function(){var t=this,r=Object.getOwnPropertyNames(e);if(e.$options.props)for(var o in e.$options.props)e.hasOwnProperty(o)||r.push(o);r.forEach((function(r){"_"!==r.charAt(0)&&Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){e[r]=t},configurable:!0})}))};var o=new t;t.prototype._init=r;var n={};return Object.keys(o).forEach((function(e){void 0!==o[e]&&(n[e]=o[e])})),n}var g=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var r=e.prototype;Object.getOwnPropertyNames(r).forEach((function(e){if("constructor"!==e)if(g.indexOf(e)>-1)t[e]=r[e];else{var o=Object.getOwnPropertyDescriptor(r,e);void 0!==o.value?"function"===typeof o.value?(t.methods||(t.methods={}))[e]=o.value:(t.mixins||(t.mixins=[])).push({data:function(){return a({},e,o.value)}}):(o.get||o.set)&&((t.computed||(t.computed={}))[e]={get:o.get,set:o.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return y(this,e)}});var n=e.__decorators__;n&&(n.forEach((function(e){return e(t)})),delete e.__decorators__);var i=Object.getPrototypeOf(e.prototype),s=i instanceof o["default"]?i.constructor:o["default"],l=s.extend(t);return w(l,e,s),u()&&f(l,e),l}var O={prototype:!0,arguments:!0,callee:!0,caller:!0};function w(e,t,r){Object.getOwnPropertyNames(t).forEach((function(o){if(!O[o]){var n=Object.getOwnPropertyDescriptor(e,o);if(!n||n.configurable){var a=Object.getOwnPropertyDescriptor(t,o);if(!m){if("cid"===o)return;var i=Object.getOwnPropertyDescriptor(r,o);if(!v(a.value)&&i&&i.value===a.value)return}0,Object.defineProperty(e,o,a)}}}))}function j(e){return"function"===typeof e?_(e):function(t){return _(t,e)}}j.registerHooks=function(e){g.push.apply(g,i(e))},t["b"]=j},"45eb":function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"root",staticClass:"layout"},[r("div",{staticClass:"toggle",class:{active:e.sidebar},on:{click:e.toggleSidebarStatus}},[r("icon",{attrs:{icon:["fas","sliders-h"]}})],1),r("header",{style:e.options.noPadding?"padding: 0.5rem 0;":""},[r("span",{staticClass:"title"},[e._v(e._s(e.options.title?e.options.title:e.$route.meta.title))]),e.$slots.header?r("div",{staticClass:"btn-container"},[e._t("header")],2):e._e()]),r("main",{on:{click:function(t){return e.setSidebarStatus(!1)}}},[e._t("default"),r("div",{staticClass:"end-center"},[e._t("end")],2)],2),r("footer",[r("div",{staticClass:"float-btns"},[e._t("footer")],2)])])},n=[],a=r("2f62"),i={computed:{...Object(a["c"])(["sidebar"])},methods:{...Object(a["b"])("app",["toggleSidebarStatus","setSidebarStatus"])},props:{options:{type:Object,default(){return{}}}},provide(){return{toTop:()=>{this.$refs.root.scrollTo({left:0,top:0,behavior:"smooth"})}}}},s=i,l=(r("f2df"),r("2877")),c=Object(l["a"])(s,o,n,!1,null,"3ab10d56",null);t["a"]=c.exports},"81fa":function(e,t,r){"use strict";var o=r("ed61"),n=r.n(o);n.a},a1e9:function(e,t,r){},ceb0:function(e,t,r){},ed61:function(e,t,r){},f2df:function(e,t,r){"use strict";var o=r("a1e9"),n=r.n(o);n.a},fd0b:function(e,t,r){"use strict";var o=r("ceb0"),n=r.n(o);n.a}}]);